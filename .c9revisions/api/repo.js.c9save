{"ts":1381597008476,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var Config = require('./config.js'),\n    mongoose = require('mongoose'),\n    aircraft = require('./models/aircraft.js');\n\nvar config = new Config();\nmongoose.connect(config.dbconn);\n\nexports.load = function(id, callback) {\n    if(id) {\n        console.log('Getting aircraft by id.');\n        aircraft.findById(id, function(err, data) {\n            if(!err) {\n                console.dir(data);\n\n                if(typeof callback === 'function') {\n                    callback.call(this, data);\n                }\n            }\n            else {\n                console.log('Failed to get aircraft by id.');\n\n                if(typeof callback === 'function') {\n                    callback.call(this, null);\n                }\n            }\n        });\n    }\n    else {\n        console.log('Getting all aircraft.');\n        aircraft.find(function(err, data) {\n            if(!err) {\n                console.dir(data);\n\n                if(typeof callback === 'function') {\n                    callback.call(this, data);\n                }\n            }\n            else {\n                console.log('Failed to get aircraft.');\n\n                if(typeof callback === 'function') {\n                    callback.call(this, null);\n                }\n            }\n        });\n    }\n};\n\nexports.save = function(aircraft, callback) {\n    aircraft.save(function(err) {\n        if(!err) {\n            console.log('Aircraft saved.');\n\n            if(typeof callback === 'function') {\n                callback.call(this, aircraft);\n            }\n        }\n        else {\n            console.log('Failed to save aircraft.');\n\n            if(typeof callback === 'function') {\n                callback.call(this, null);\n            }\n        }\n    });\n};\n\nexports.remove = function(aircraft, callback) {\n    return aircraft.remove(function(err) {\n        if(!err) {\n            console.log('Aircraft removed.');\n\n            if(typeof callback === 'function') {\n                callback.call(this, true);\n            }\n        }\n        else {\n            console.log('Could not remove aircraft.');\n\n            if(typeof callback === 'function') {\n                callback.call(this, false);\n            }\n        }\n    });\n};"]],"start1":0,"start2":0,"length1":0,"length2":2213}]],"length":2213}
